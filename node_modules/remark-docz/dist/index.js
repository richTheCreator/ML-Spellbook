"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var visit=_interopDefault(require("unist-util-visit")),remove=_interopDefault(require("unist-util-remove"));const componentName=e=>{const t=e.match(/^\<\\?(\w+)/);return t&&t[1]},valuesFromNodes=e=>(t,n)=>{const r=[];if(t!==n)for(let u=n;u>=t;u--){const n=e.children[u];n.children&&n.children.length>0&&r.push(...n.children.map(e=>e.value)),n.value&&n.value.length>0&&r.push(n.value),u!==t&&remove(e,n)}return r},mergeNodeWithoutCloseTag=(e,t,n)=>{if(!t.value||"string"!=typeof t.value)return;const r=componentName(t.value),u=RegExp(`^\\<${r}`),o=RegExp(`\\<\\/${r}\\>$`),i=e=>u.test(e),l=e=>o.test(e),s=e=>e&&!i(e)&&l(e);if(!r||i(t.value)&&l(t.value))return;const a=e.children.findIndex(({value:e,children:t})=>t?t.some(e=>s(e.value)):s(e));if(a>-1&&a!==n){const r=valuesFromNodes(e)(n,a);t.value=r.reverse().join("\n")}};var index=()=>e=>{visit(e,"html",function(t,n){mergeNodeWithoutCloseTag(e,t,n)})};exports.default=index;
